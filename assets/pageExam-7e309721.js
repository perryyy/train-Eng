import{d as F,u as L,a as H,c as M,b as l,i as D,w as s,j as T,l as K,g as r,m as b,f as n,n as h,k as z,p as W,C as Q,r as R,e as p,F as U,h as q,q as N,E as X,s as O,t as A,_ as G,o as Y,v as Z}from"./index-e143b289.js";import{T as ee}from"./topic-fbb8b7b5.js";const te=b("span",null,"Are you sure you want to leave this page ?",-1),se={class:"dialog-footer"},J=F({__name:"backToExamListDialog",setup(B){const i=z(),I=L(),x=H(),d=M(()=>x.dialogVisible),_=a=>{x.isChangeDialogStatus(a)},m=()=>{_(!1),I.updateDataIsReady(!1),I.updateExamStart(!1),i.push("/train-Eng")};return(a,y)=>{const v=r("el-button"),$=r("el-dialog");return l(),D($,{modelValue:T(d),"onUpdate:modelValue":y[2]||(y[2]=C=>K(d)?d.value=C:null),title:"Tips",width:"fit-content",center:"","close-on-click-modal":"","close-on-press-escape":"","show-close":!1,"align-center":"","destroy-on-close":""},{footer:s(()=>[b("span",se,[n(v,{onClick:y[0]||(y[0]=C=>_(!1))},{default:s(()=>[h("Cancel")]),_:1}),n(v,{type:"primary",onClick:y[1]||(y[1]=C=>m())},{default:s(()=>[h(" Back ")]),_:1})])]),default:s(()=>[te]),_:1},8,["modelValue"])}}}),oe={class:"fillInTheBlank"},ne=["onClick"],ae={class:"card-header--text"},le={class:"card-header--icon"},ce={key:0,class:"errMsg"},re={key:1,class:"answer"},ue={class:"correctAnswer"},ie={class:"actions"},de=F({__name:"fillInTheBlank",props:{topicArr:{type:Array,required:!0}},emits:["emitResult","restart"],setup(B,{emit:i}){const x=W(B,"topicArr"),d=Q.INPUT_MAX_LENGTH,_=R(!1),m=new SpeechSynthesisUtterance,a=R({}),y=t=>{m.text=t,speechSynthesis.speak(m)},v=L(),$=()=>{const t=x.value.length;let e=0,o=10;for(let u in a.value)a.value.hasOwnProperty(u)&&a.value[u].toLowerCase()===u.toLowerCase()&&e++;o=t-e,_.value=!0,v.updateExamStart(!1),i("emitResult",{"Total Count":t,Correct:e,Incorrect:o}),X({title:"Success",message:"Exam is over",type:"success",showClose:!1})},C=H(),w=t=>{C.isChangeDialogStatus(t)},V=t=>{const e=`input-${t}`,o=document.getElementById(e);o&&o.focus()},S=()=>{O.openFullScreen(),i("restart"),v.updateExamStart(!0),_.value=!1,a.value={},O.scrollToTop()};return(t,e)=>{const o=r("el-text"),E=r("VideoPlay"),u=r("el-icon"),g=r("el-input"),k=r("el-card"),f=r("el-button");return l(),p("div",oe,[(l(!0),p(U,null,q(T(x),(c,j)=>(l(),p("div",{key:c.key,class:"question"},[n(k,{class:"box-card",width:"99.9%",shadow:"hover"},{header:s(()=>[b("div",{class:"card-header",onClick:P=>V(c.key)},[b("div",ae,[n(o,{tag:"b"},{default:s(()=>[h(A(j+1)+" . "+A(c.value),1)]),_:2},1024)]),b("div",le,[n(u,{onClick:P=>y(c.key)},{default:s(()=>[n(E)]),_:2},1032,["onClick"])])],8,ne)]),default:s(()=>[n(g,{id:`input-${c.key}`,modelValue:a.value[c.key],"onUpdate:modelValue":P=>a.value[c.key]=P,modelModifiers:{trim:!0},placeholder:"Please input",class:"input-with-select",clearable:"",autofocus:"",disabled:_.value,maxlength:T(d)},null,8,["id","modelValue","onUpdate:modelValue","disabled","maxlength"]),a.value[c.key]&&a.value[c.key].length>=T(d)?(l(),p("div",ce,[n(o,{type:"danger"},{default:s(()=>[h("The input text length cannot exceed "+A(T(d))+" characters.",1)]),_:1})])):N("",!0),a.value[c.key]!==c.key&&_.value?(l(),p("div",re,[h(" Answer : "),b("span",ue,A(c.key),1)])):N("",!0)]),_:2},1024)]))),128)),b("div",ie,[n(f,{type:"warning",onClick:e[0]||(e[0]=c=>w(!0))},{default:s(()=>[h(" Back ")]),_:1}),n(f,{type:"primary",disabled:_.value,onClick:e[1]||(e[1]=c=>$())},{default:s(()=>[h(" Submit ")]),_:1},8,["disabled"]),_.value?(l(),D(f,{key:0,type:"success",onClick:e[2]||(e[2]=c=>S())},{default:s(()=>[h(" Restart ")]),_:1})):N("",!0)]),n(J)])}}});const _e=G(de,[["__scopeId","data-v-2af3a3c0"]]),pe={class:"choice"},ve={class:"card-header"},fe={class:"card-header--text"},he={class:"choiceItems"},me={class:"actions"},ye=F({__name:"choice",props:{topicArr:{type:Array,required:!0}},emits:["emitResult","restart"],setup(B,{emit:i}){const I=B,x=R([]),d=W(I,"topicArr").value,_=()=>{const t=d.map(e=>e.key);for(let e=0;e<d.length;e++){let o=[];for(o.push(d[e].key);o.length<Q.CHOICE_OPTIONS_LENGTH;){const g=Math.floor(Math.random()*t.length),k=t[g];o.includes(k)||o.push(k)}const E={};o.forEach((g,k)=>{E[`item${k+1}`]=g});const u={[d[e].value]:O.shuffleObjectProperties(E)};x.value.push(u)}},m=R({}),a=H(),y=t=>{a.isChangeDialogStatus(t)},v=R(!1),$=L(),C=()=>{const t=x.value.length;let e=0,o=10;for(const u in w)w.hasOwnProperty(u)&&m.value.hasOwnProperty(u)&&m.value[u].toString()===w[u]&&e++;o=t-e,v.value=!0,$.updateExamStart(!1),i("emitResult",{"Total Count":t,Correct:e,Incorrect:o}),X({title:"Success",message:"Exam is over",type:"success",showClose:!1})},w={};d.forEach(t=>{w[t.value]=t.key});const V=(t,e,o)=>(t&&!t.includes(o)||!t)&&w[e]===o,S=()=>{O.openFullScreen(),i("restart"),$.updateExamStart(!0),v.value=!1,m.value={},O.scrollToTop()};return Y(()=>{_()}),(t,e)=>{const o=r("el-text"),E=r("el-radio"),u=r("el-radio-group"),g=r("el-card"),k=r("el-button");return l(),p("div",pe,[(l(!0),p(U,null,q(x.value,(f,c)=>(l(),p("div",{key:c,class:"question"},[n(g,{class:"box-card",width:"99.9%",shadow:"hover"},{header:s(()=>[b("div",ve,[b("div",fe,[n(o,{tag:"b"},{default:s(()=>[h(A(c+1)+" . "+A(Object.keys(f)[0]),1)]),_:2},1024)])])]),default:s(()=>[b("div",he,[n(u,{modelValue:m.value[Object.keys(f)[0]],"onUpdate:modelValue":j=>m.value[Object.keys(f)[0]]=j},{default:s(()=>[(l(!0),p(U,null,q(f[Object.keys(f)[0]],(j,P)=>(l(),D(E,{key:P,label:j,disabled:v.value,border:v.value&&V(m.value[Object.keys(f)[0]],Object.keys(f)[0],j),name:"type"},null,8,["label","disabled","border"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])])]),_:2},1024)]))),128)),b("div",me,[n(k,{type:"warning",onClick:e[0]||(e[0]=f=>y(!0))},{default:s(()=>[h(" Back ")]),_:1}),n(k,{type:"primary",disabled:v.value,onClick:e[1]||(e[1]=f=>C())},{default:s(()=>[h(" Submit ")]),_:1},8,["disabled"]),v.value?(l(),D(k,{key:0,type:"success",onClick:e[2]||(e[2]=f=>S())},{default:s(()=>[h(" Restart ")]),_:1})):N("",!0)]),n(J)])}}});const ge=G(ye,[["__scopeId","data-v-c1f2d519"]]),ke={class:"pageExam"},be={key:0},xe={key:0,class:"score"},Ce={class:"card-header"},Se={key:1},Te={key:2},we=F({__name:"pageExam",setup(B){const i=L(),I=i.selectedTopic,x=i.selectedQuestionType,d=i.selectedQuestionCount,_=ee[I],m=z();let a=Z([]);Y(()=>{_===void 0?(i.updateExamStart(!1),m.push("/train-Eng")):y()});const y=()=>{a=Object.keys(_).map(S=>({key:S,value:_[S]})),a=O.getRandomItemsFromArray(a,d),i.updateDataIsReady(!0)},v=M(()=>i.isExamStart),$=M(()=>i.dataIsReady),C=R([]),w=S=>{for(let t in S)S.hasOwnProperty(t)&&C.value.push({title:t,count:S[t]});O.scrollToTop()},V=()=>{C.value=[]};return(S,t)=>{const e=r("el-text"),o=r("el-card"),E=r("el-col"),u=r("el-row");return l(),p("div",ke,[T($)?(l(),p("div",be,[T(v)?N("",!0):(l(),p("div",xe,[n(u,{gutter:4},{default:s(()=>[(l(!0),p(U,null,q(C.value,(g,k)=>(l(),D(E,{key:k,md:4,lg:4,xl:4,xs:8,sm:8},{default:s(()=>[n(o,{class:"box-card"},{header:s(()=>[b("div",Ce,[n(e,{tag:"b"},{default:s(()=>[h(A(g.title),1)]),_:2},1024)])]),default:s(()=>[n(e,{size:"large"},{default:s(()=>[h(A(g.count),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])),T(x)===T(Q).QUESTION_TYPE.CHOICE_QUESTION?(l(),p("div",Se,[n(ge,{topicArr:T(a),onRestart:V,onEmitResult:w},null,8,["topicArr"])])):(l(),p("div",Te,[n(_e,{topicArr:T(a),onRestart:V,onEmitResult:w},null,8,["topicArr"])]))])):N("",!0)])}}});const Ae=G(we,[["__scopeId","data-v-1d25b694"]]);export{Ae as default};
