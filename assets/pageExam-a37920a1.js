import{d as B,l as W,a as Q,c as V,b as o,e as u,f as i,w as r,m as C,h as a,k as F,n as U,i as v,_ as q,C as L,r as R,u as D,F as N,g as P,p as l,q as I,t as w,o as z,s as J,j as K,E as Z}from"./index-afd1aa3a.js";import{T as ee}from"./topic-391e58bb.js";const te={class:"actions"},se=B({__name:"actions",props:{isTestFinished:{type:Boolean,default:!1,required:!0}},emits:["handleSubmit","handleRestart"],setup(O,{emit:d}){const S=W(O,"isTestFinished"),m=Q();function f(E){m.updateDialogStatus(E)}const y=V(()=>m.mode),e=V(()=>y.value==="exam");return(E,b)=>{const k=v("el-button");return o(),u("div",te,[i(k,{type:"warning",onClick:b[0]||(b[0]=A=>f(!0))},{default:r(()=>[C(" Back ")]),_:1}),a(e)?(o(),F(k,{key:0,type:"primary",disabled:a(S),onClick:b[1]||(b[1]=A=>E.$emit("handleSubmit"))},{default:r(()=>[C(" Submit ")]),_:1},8,["disabled"])):U("",!0),a(S)&&a(e)?(o(),F(k,{key:1,type:"success",onClick:b[2]||(b[2]=A=>E.$emit("handleRestart"))},{default:r(()=>[C(" Restart ")]),_:1})):U("",!0)])}}});const G=q(se,[["__scopeId","data-v-bfec7875"]]),oe={class:"fillInTheBlank"},ne=["onClick"],ae={class:"card-header--text"},ce={class:"card-header--icon"},re={key:1},le={key:2,class:"errMsg"},ue={key:3,class:"answer"},ie={class:"correctAnswer"},de=B({__name:"fillInTheBlank",props:{topicArr:{type:Array,required:!0}},emits:["emitResult","restart"],setup(O,{emit:d}){const S=W(O,"topicArr"),m=L.INPUT_MAX_LENGTH,f=R(!1),y=new SpeechSynthesisUtterance,e=R({}),E=p=>{y.text=l.replaceUnderscoreWithSpace(p),speechSynthesis.speak(y)},b=D(),k=()=>{const p=S.value.length;let h=0;for(let g in e.value)if(e.value.hasOwnProperty(g)){const T=e.value[g];typeof T=="string"&&c(T,g)&&h++}const t=l.calculateExamResults(p,h);f.value=!0,d("emitResult",t)},A=p=>{const h=`input-${p}`,t=document.getElementById(h);t&&t.focus()},$=()=>{l.openFullScreenLoading(),d("restart"),b.updateExamStart(!0),f.value=!1,e.value={},l.scrollToTop()},c=(p,h)=>{const t=l.removeAllSpaces(p),g=l.removeUnderscoreAndNormalize(h);return t===g},s=Q(),n=V(()=>s.mode),_=V(()=>n.value==="exam");return(p,h)=>{const t=v("el-text"),g=v("VideoPlay"),T=v("el-icon"),M=v("el-input"),X=v("el-card");return o(),u("div",oe,[(o(!0),u(N,null,P(a(S),(x,Y)=>(o(),u("div",{key:x.key,class:"question"},[i(X,{class:"box-card",width:"99.9%",shadow:"hover"},{header:r(()=>[I("div",{class:"card-header",onClick:H=>A(x.key)},[I("div",ae,[i(t,{tag:"b"},{default:r(()=>[C(w(Y+1)+" . "+w(x.value),1)]),_:2},1024)]),I("div",ce,[i(T,{onClick:H=>E(x.key)},{default:r(()=>[i(g)]),_:2},1032,["onClick"])])],8,ne)]),default:r(()=>[a(_)?(o(),F(M,{key:0,id:`input-${x.key}`,modelValue:e.value[x.key],"onUpdate:modelValue":H=>e.value[x.key]=H,modelModifiers:{trim:!0},placeholder:"Please input",class:"input-with-select",clearable:"",autofocus:"",disabled:f.value,maxlength:a(m)},null,8,["id","modelValue","onUpdate:modelValue","disabled","maxlength"])):(o(),u("div",re,w(a(l).replaceUnderscoreWithSpace(x.key)),1)),e.value[x.key]&&e.value[x.key].length>=a(m)?(o(),u("div",le,[i(t,{type:"danger"},{default:r(()=>[C("The input text length cannot exceed "+w(a(m))+" characters.",1)]),_:1})])):U("",!0),!c(e.value[x.key],x.key)&&f.value&&a(_)?(o(),u("div",ue,[C(" Answer : "),I("span",ie,w(a(l).replaceUnderscoreWithSpace(x.key)),1)])):U("",!0)]),_:2},1024)]))),128)),i(G,{isTestFinished:f.value,onHandleSubmit:k,onHandleRestart:$},null,8,["isTestFinished"])])}}});const _e=q(de,[["__scopeId","data-v-16342dee"]]),pe={class:"choice"},he={class:"card-header"},me={class:"card-header--text"},ve={class:"choiceItems"},fe=B({__name:"choice",props:{topicArr:{type:Array,required:!0}},emits:["emitResult","restart"],setup(O,{emit:d}){const j=O,S=R([]),m=W(j,"topicArr").value,f=()=>{const c=m.map(s=>s.key);for(let s=0;s<m.length;s++){let n=[];for(n.push(m[s].key);n.length<L.CHOICE_OPTIONS_LENGTH;){const h=Math.floor(Math.random()*c.length),t=c[h];n.includes(t)||n.push(t)}const _={};n.forEach((h,t)=>{_[`item${t+1}`]=h});const p={[m[s].value]:l.shuffleObjectProperties(_)};S.value.push(p)}},y=R({}),e=R(!1),E=D(),b=()=>{const c=S.value.length;let s=0;for(const _ in k)k.hasOwnProperty(_)&&y.value.hasOwnProperty(_)&&y.value[_].toString()===l.replaceUnderscoreWithSpace(k[_])&&s++;const n=l.calculateExamResults(c,s);e.value=!0,d("emitResult",n)},k={};m.forEach(c=>{k[c.value]=c.key});const A=(c,s,n)=>(c&&c.toString()!==l.replaceUnderscoreWithSpace(n)||!c)&&k[s]===n,$=()=>{l.openFullScreenLoading(),d("restart"),E.updateExamStart(!0),e.value=!1,y.value={},l.scrollToTop()};return z(()=>{f()}),(c,s)=>{const n=v("el-text"),_=v("el-radio"),p=v("el-radio-group"),h=v("el-card");return o(),u("div",pe,[(o(!0),u(N,null,P(S.value,(t,g)=>(o(),u("div",{key:g,class:"question"},[i(h,{class:"box-card",width:"99.9%",shadow:"hover"},{header:r(()=>[I("div",he,[I("div",me,[i(n,{tag:"b"},{default:r(()=>[C(w(g+1)+" . "+w(Object.keys(t)[0]),1)]),_:2},1024)])])]),default:r(()=>[I("div",ve,[i(p,{modelValue:y.value[Object.keys(t)[0]],"onUpdate:modelValue":T=>y.value[Object.keys(t)[0]]=T},{default:r(()=>[(o(!0),u(N,null,P(t[Object.keys(t)[0]],(T,M)=>(o(),F(_,{key:M,label:a(l).replaceUnderscoreWithSpace(T),disabled:e.value,border:e.value&&A(y.value[Object.keys(t)[0]],Object.keys(t)[0],T),name:"type"},null,8,["label","disabled","border"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])])]),_:2},1024)]))),128)),i(G,{isTestFinished:e.value,onHandleSubmit:b,onHandleRestart:$},null,8,["isTestFinished"])])}}});const ye=q(fe,[["__scopeId","data-v-10a1760b"]]),ke={class:"pageExam"},ge={key:0},xe={key:0,class:"score"},be={class:"card-header"},Se={key:1},Te={key:2},Ee=B({__name:"pageExam",setup(O){const d=D(),j=d.selectedTopic,S=d.selectedQuestionType,m=d.selectedQuestionCount,f=ee[j],y=K();let e=J([]);z(()=>{f===void 0?(d.updateExamStart(!1),y.push("/train-Eng")):E()});const E=()=>{e=Object.keys(f).map(s=>({key:s,value:f[s]})),e=l.getRandomItemsFromArray(e,m),d.updateDataIsReady(!0)},b=V(()=>d.isExamStart),k=V(()=>d.dataIsReady),A=R([]),$=s=>{d.updateExamStart(!1);for(let n in s)s.hasOwnProperty(n)&&A.value.push({title:n,count:s[n]});l.scrollToTop(),Z({title:"Success",message:"Exam is over",type:"success",showClose:!1})},c=()=>{A.value=[]};return(s,n)=>{const _=v("el-text"),p=v("el-card"),h=v("el-col"),t=v("el-row");return o(),u("div",ke,[a(k)?(o(),u("div",ge,[a(b)?U("",!0):(o(),u("div",xe,[i(t,{gutter:4},{default:r(()=>[(o(!0),u(N,null,P(A.value,(g,T)=>(o(),F(h,{key:T,md:4,lg:4,xl:4,xs:8,sm:8},{default:r(()=>[i(p,{class:"box-card"},{header:r(()=>[I("div",be,[i(_,{tag:"b"},{default:r(()=>[C(w(g.title),1)]),_:2},1024)])]),default:r(()=>[i(_,{size:"large"},{default:r(()=>[C(w(g.count),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])),a(S)===a(L).QUESTION_TYPE.CHOICE_QUESTION?(o(),u("div",Se,[i(ye,{topicArr:a(e),onRestart:c,onEmitResult:$},null,8,["topicArr"])])):(o(),u("div",Te,[i(_e,{topicArr:a(e),onRestart:c,onEmitResult:$},null,8,["topicArr"])]))])):U("",!0)])}}});const Ce=q(Ee,[["__scopeId","data-v-22f1619f"]]);export{Ce as default};
