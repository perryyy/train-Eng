import{d as q,l as W,a as Q,c as V,b as o,e as u,f as i,w as r,m as w,h as a,k as F,n as U,i as f,_ as M,C as L,r as R,u as D,F as P,g as B,p as l,q as $,t as C,o as z,s as J,j as K,E as Z}from"./index-504b11c0.js";import{T as ee}from"./topic-67055032.js";const te={class:"actions"},se=q({__name:"actions",props:{isTestFinished:{type:Boolean,default:!1,required:!0}},emits:["handleSubmit","handleRestart"],setup(I,{emit:d}){const S=W(I,"isTestFinished"),v=Q();function y(T){v.updateDialogStatus(T)}const k=V(()=>v.mode),e=V(()=>k.value==="exam");return(T,x)=>{const g=f("el-button");return o(),u("div",te,[i(g,{type:"warning",onClick:x[0]||(x[0]=A=>y(!0))},{default:r(()=>[w(" Back ")]),_:1}),a(e)?(o(),F(g,{key:0,type:"primary",disabled:a(S),onClick:x[1]||(x[1]=A=>T.$emit("handleSubmit"))},{default:r(()=>[w(" Submit ")]),_:1},8,["disabled"])):U("",!0),a(S)&&a(e)?(o(),F(g,{key:1,type:"success",onClick:x[2]||(x[2]=A=>T.$emit("handleRestart"))},{default:r(()=>[w(" Restart ")]),_:1})):U("",!0)])}}});const G=M(se,[["__scopeId","data-v-bfec7875"]]),oe={class:"fillInTheBlank"},ne=["onClick"],ae={class:"card-header--text"},ce={class:"card-header--icon"},re=["onClick"],le={key:2,class:"errMsg"},ue={key:3,class:"answer"},ie={class:"correctAnswer"},de=q({__name:"fillInTheBlank",props:{topicArr:{type:Array,required:!0}},emits:["emitResult","restart"],setup(I,{emit:d}){const S=W(I,"topicArr"),v=L.INPUT_MAX_LENGTH,y=R(!1),k=new SpeechSynthesisUtterance,e=R({}),T=p=>{k.text=l.replaceUnderscoreWithSpace(p),speechSynthesis.speak(k)},x=D(),g=()=>{const p=S.value.length;let h=0;for(let b in e.value)if(e.value.hasOwnProperty(b)){const E=e.value[b];typeof E=="string"&&c(E,b)&&h++}const t=l.calculateExamResults(p,h);y.value=!0,d("emitResult",t)},A=p=>{const h=`input-${p}`,t=document.getElementById(h);t&&t.focus()},O=()=>{l.openFullScreenLoading(),d("restart"),x.updateExamStart(!0),y.value=!1,e.value={},l.scrollToTop()},c=(p,h)=>{const t=l.removeAllSpaces(p),b=l.removeUnderscoreAndNormalize(h);return t===b},s=Q(),n=V(()=>s.mode),_=V(()=>n.value==="exam");return(p,h)=>{const t=f("el-text"),b=f("VideoPlay"),E=f("el-icon"),H=f("el-input"),X=f("el-card");return o(),u("div",oe,[(o(!0),u(P,null,B(a(S),(m,Y)=>(o(),u("div",{key:m.key,class:"question"},[i(X,{class:"box-card",width:"99.9%",shadow:"hover"},{header:r(()=>[$("div",{class:"card-header",onClick:N=>A(m.key)},[$("div",ae,[i(t,{tag:"b"},{default:r(()=>[w(C(Y+1)+" . "+C(m.value),1)]),_:2},1024)]),$("div",ce,[i(E,{onClick:N=>T(m.key)},{default:r(()=>[i(b)]),_:2},1032,["onClick"])])],8,ne)]),default:r(()=>[a(_)?(o(),F(H,{key:0,id:`input-${m.key}`,modelValue:e.value[m.key],"onUpdate:modelValue":N=>e.value[m.key]=N,modelModifiers:{trim:!0},placeholder:"Please input",class:"input-with-select",clearable:"",autofocus:"",disabled:y.value,maxlength:a(v)},null,8,["id","modelValue","onUpdate:modelValue","disabled","maxlength"])):(o(),u("div",{key:1,onClick:N=>T(m.key)},C(a(l).replaceUnderscoreWithSpace(m.key)),9,re)),e.value[m.key]&&e.value[m.key].length>=a(v)?(o(),u("div",le,[i(t,{type:"danger"},{default:r(()=>[w("The input text length cannot exceed "+C(a(v))+" characters.",1)]),_:1})])):U("",!0),!c(e.value[m.key],m.key)&&y.value&&a(_)?(o(),u("div",ue,[w(" Answer : "),$("span",ie,C(a(l).replaceUnderscoreWithSpace(m.key)),1)])):U("",!0)]),_:2},1024)]))),128)),i(G,{isTestFinished:y.value,onHandleSubmit:g,onHandleRestart:O},null,8,["isTestFinished"])])}}});const _e=M(de,[["__scopeId","data-v-cea4b7a7"]]),pe={class:"choice"},he={class:"card-header"},ve={class:"card-header--text"},me={class:"choiceItems"},fe=q({__name:"choice",props:{topicArr:{type:Array,required:!0}},emits:["emitResult","restart"],setup(I,{emit:d}){const j=I,S=R([]),v=W(j,"topicArr").value,y=()=>{const c=v.map(s=>s.key);for(let s=0;s<v.length;s++){let n=[];for(n.push(v[s].key);n.length<L.CHOICE_OPTIONS_LENGTH;){const h=Math.floor(Math.random()*c.length),t=c[h];n.includes(t)||n.push(t)}const _={};n.forEach((h,t)=>{_[`item${t+1}`]=h});const p={[v[s].value]:l.shuffleObjectProperties(_)};S.value.push(p)}},k=R({}),e=R(!1),T=D(),x=()=>{const c=S.value.length;let s=0;for(const _ in g)g.hasOwnProperty(_)&&k.value.hasOwnProperty(_)&&k.value[_].toString()===l.replaceUnderscoreWithSpace(g[_])&&s++;const n=l.calculateExamResults(c,s);e.value=!0,d("emitResult",n)},g={};v.forEach(c=>{g[c.value]=c.key});const A=(c,s,n)=>(c&&c.toString()!==l.replaceUnderscoreWithSpace(n)||!c)&&g[s]===n,O=()=>{l.openFullScreenLoading(),d("restart"),T.updateExamStart(!0),e.value=!1,k.value={},l.scrollToTop()};return z(()=>{y()}),(c,s)=>{const n=f("el-text"),_=f("el-radio"),p=f("el-radio-group"),h=f("el-card");return o(),u("div",pe,[(o(!0),u(P,null,B(S.value,(t,b)=>(o(),u("div",{key:b,class:"question"},[i(h,{class:"box-card",width:"99.9%",shadow:"hover"},{header:r(()=>[$("div",he,[$("div",ve,[i(n,{tag:"b"},{default:r(()=>[w(C(b+1)+" . "+C(Object.keys(t)[0]),1)]),_:2},1024)])])]),default:r(()=>[$("div",me,[i(p,{modelValue:k.value[Object.keys(t)[0]],"onUpdate:modelValue":E=>k.value[Object.keys(t)[0]]=E},{default:r(()=>[(o(!0),u(P,null,B(t[Object.keys(t)[0]],(E,H)=>(o(),F(_,{key:H,label:a(l).replaceUnderscoreWithSpace(E),disabled:e.value,border:e.value&&A(k.value[Object.keys(t)[0]],Object.keys(t)[0],E),name:"type"},null,8,["label","disabled","border"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])])]),_:2},1024)]))),128)),i(G,{isTestFinished:e.value,onHandleSubmit:x,onHandleRestart:O},null,8,["isTestFinished"])])}}});const ye=M(fe,[["__scopeId","data-v-10a1760b"]]),ke={class:"pageExam"},ge={key:0},be={key:0,class:"score"},xe={class:"card-header"},Se={key:1},Te={key:2},Ee=q({__name:"pageExam",setup(I){const d=D(),j=d.selectedTopic,S=d.selectedQuestionType,v=d.selectedQuestionCount,y=ee[j],k=K();let e=J([]);z(()=>{y===void 0?(d.updateExamStart(!1),k.push("/train-Eng")):T()});const T=()=>{e=Object.keys(y).map(s=>({key:s,value:y[s]})),e=l.getRandomItemsFromArray(e,v),d.updateDataIsReady(!0)},x=V(()=>d.isExamStart),g=V(()=>d.dataIsReady),A=R([]),O=s=>{d.updateExamStart(!1);for(let n in s)s.hasOwnProperty(n)&&A.value.push({title:n,count:s[n]});l.scrollToTop(),Z({title:"Success",message:"Exam is over",type:"success",showClose:!1})},c=()=>{A.value=[]};return(s,n)=>{const _=f("el-text"),p=f("el-card"),h=f("el-col"),t=f("el-row");return o(),u("div",ke,[a(g)?(o(),u("div",ge,[a(x)?U("",!0):(o(),u("div",be,[i(t,{gutter:4},{default:r(()=>[(o(!0),u(P,null,B(A.value,(b,E)=>(o(),F(h,{key:E,md:4,lg:4,xl:4,xs:8,sm:8},{default:r(()=>[i(p,{class:"box-card"},{header:r(()=>[$("div",xe,[i(_,{tag:"b"},{default:r(()=>[w(C(b.title),1)]),_:2},1024)])]),default:r(()=>[i(_,{size:"large"},{default:r(()=>[w(C(b.count),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])),a(S)===a(L).QUESTION_TYPE.CHOICE_QUESTION?(o(),u("div",Se,[i(ye,{topicArr:a(e),onRestart:c,onEmitResult:O},null,8,["topicArr"])])):(o(),u("div",Te,[i(_e,{topicArr:a(e),onRestart:c,onEmitResult:O},null,8,["topicArr"])]))])):U("",!0)])}}});const we=M(Ee,[["__scopeId","data-v-22f1619f"]]);export{we as default};
