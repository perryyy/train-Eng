import{d as F,l as q,a as z,b as a,e as _,f as c,w as r,m as T,h as v,k as H,n as V,i as m,_ as N,C as M,r as $,u as L,F as U,g as j,p as i,q as E,t as A,o as D,s as G,c as W,j as X,E as Y}from"./index-2ddc2c67.js";import{T as J}from"./topic-8589642b.js";const K={class:"actions"},Z=F({__name:"actions",props:{isTestFinished:{type:Boolean,default:!1,required:!0}},emits:["handleSubmit","handleRestart"],setup(I,{emit:p}){const g=q(I,"isTestFinished"),f=z();function y(u){f.updateDialogStatus(u)}return(u,t)=>{const x=m("el-button");return a(),_("div",K,[c(x,{type:"warning",onClick:t[0]||(t[0]=b=>y(!0))},{default:r(()=>[T(" Back ")]),_:1}),c(x,{type:"primary",disabled:v(g),onClick:t[1]||(t[1]=b=>u.$emit("handleSubmit"))},{default:r(()=>[T(" Submit ")]),_:1},8,["disabled"]),v(g)?(a(),H(x,{key:0,type:"success",onClick:t[2]||(t[2]=b=>u.$emit("handleRestart"))},{default:r(()=>[T(" Restart ")]),_:1})):V("",!0)])}}});const Q=N(Z,[["__scopeId","data-v-6ac3059c"]]),ee={class:"fillInTheBlank"},te=["onClick"],se={class:"card-header--text"},oe={class:"card-header--icon"},ne={key:0,class:"errMsg"},ae={key:1,class:"answer"},ce={class:"correctAnswer"},le=F({__name:"fillInTheBlank",props:{topicArr:{type:Array,required:!0}},emits:["emitResult","restart"],setup(I,{emit:p}){const g=q(I,"topicArr"),f=M.INPUT_MAX_LENGTH,y=$(!1),u=new SpeechSynthesisUtterance,t=$({}),x=e=>{u.text=i.replaceUnderscoreWithSpace(e),speechSynthesis.speak(u)},b=L(),S=()=>{const e=g.value.length;let s=0;for(let h in t.value)if(t.value.hasOwnProperty(h)){const k=t.value[h];typeof k=="string"&&l(k,h)&&s++}const o=i.calculateExamResults(e,s);y.value=!0,p("emitResult",o)},w=e=>{const s=`input-${e}`,o=document.getElementById(s);o&&o.focus()},O=()=>{i.openFullScreenLoading(),p("restart"),b.updateExamStart(!0),y.value=!1,t.value={},i.scrollToTop()},l=(e,s)=>{const o=i.removeAllSpaces(e),h=i.removeUnderscoreAndNormalize(s);return o===h};return(e,s)=>{const o=m("el-text"),h=m("VideoPlay"),k=m("el-icon"),d=m("el-input"),C=m("el-card");return a(),_("div",ee,[(a(!0),_(U,null,j(v(g),(n,P)=>(a(),_("div",{key:n.key,class:"question"},[c(C,{class:"box-card",width:"99.9%",shadow:"hover"},{header:r(()=>[E("div",{class:"card-header",onClick:B=>w(n.key)},[E("div",se,[c(o,{tag:"b"},{default:r(()=>[T(A(P+1)+" . "+A(n.value),1)]),_:2},1024)]),E("div",oe,[c(k,{onClick:B=>x(n.key)},{default:r(()=>[c(h)]),_:2},1032,["onClick"])])],8,te)]),default:r(()=>[c(d,{id:`input-${n.key}`,modelValue:t.value[n.key],"onUpdate:modelValue":B=>t.value[n.key]=B,modelModifiers:{trim:!0},placeholder:"Please input",class:"input-with-select",clearable:"",autofocus:"",disabled:y.value,maxlength:v(f)},null,8,["id","modelValue","onUpdate:modelValue","disabled","maxlength"]),t.value[n.key]&&t.value[n.key].length>=v(f)?(a(),_("div",ne,[c(o,{type:"danger"},{default:r(()=>[T("The input text length cannot exceed "+A(v(f))+" characters.",1)]),_:1})])):V("",!0),!l(t.value[n.key],n.key)&&y.value?(a(),_("div",ae,[T(" Answer : "),E("span",ce,A(v(i).replaceUnderscoreWithSpace(n.key)),1)])):V("",!0)]),_:2},1024)]))),128)),c(Q,{isTestFinished:y.value,onHandleSubmit:S,onHandleRestart:O},null,8,["isTestFinished"])])}}});const re=N(le,[["__scopeId","data-v-e021036d"]]),ue={class:"choice"},de={class:"card-header"},ie={class:"card-header--text"},_e={class:"choiceItems"},pe=F({__name:"choice",props:{topicArr:{type:Array,required:!0}},emits:["emitResult","restart"],setup(I,{emit:p}){const R=I,g=$([]),f=q(R,"topicArr").value,y=()=>{const l=f.map(e=>e.key);for(let e=0;e<f.length;e++){let s=[];for(s.push(f[e].key);s.length<M.CHOICE_OPTIONS_LENGTH;){const k=Math.floor(Math.random()*l.length),d=l[k];s.includes(d)||s.push(d)}const o={};s.forEach((k,d)=>{o[`item${d+1}`]=k});const h={[f[e].value]:i.shuffleObjectProperties(o)};g.value.push(h)}},u=$({}),t=$(!1),x=L(),b=()=>{const l=g.value.length;let e=0;for(const o in S)S.hasOwnProperty(o)&&u.value.hasOwnProperty(o)&&u.value[o].toString()===i.replaceUnderscoreWithSpace(S[o])&&e++;const s=i.calculateExamResults(l,e);t.value=!0,p("emitResult",s)},S={};f.forEach(l=>{S[l.value]=l.key});const w=(l,e,s)=>(l&&!l.includes(i.replaceUnderscoreWithSpace(s))||!l)&&S[e]===s,O=()=>{i.openFullScreenLoading(),p("restart"),x.updateExamStart(!0),t.value=!1,u.value={},i.scrollToTop()};return D(()=>{y()}),(l,e)=>{const s=m("el-text"),o=m("el-radio"),h=m("el-radio-group"),k=m("el-card");return a(),_("div",ue,[(a(!0),_(U,null,j(g.value,(d,C)=>(a(),_("div",{key:C,class:"question"},[c(k,{class:"box-card",width:"99.9%",shadow:"hover"},{header:r(()=>[E("div",de,[E("div",ie,[c(s,{tag:"b"},{default:r(()=>[T(A(C+1)+" . "+A(Object.keys(d)[0]),1)]),_:2},1024)])])]),default:r(()=>[E("div",_e,[c(h,{modelValue:u.value[Object.keys(d)[0]],"onUpdate:modelValue":n=>u.value[Object.keys(d)[0]]=n},{default:r(()=>[(a(!0),_(U,null,j(d[Object.keys(d)[0]],(n,P)=>(a(),H(o,{key:P,label:v(i).replaceUnderscoreWithSpace(n),disabled:t.value,border:t.value&&w(u.value[Object.keys(d)[0]],Object.keys(d)[0],n),name:"type"},null,8,["label","disabled","border"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])])]),_:2},1024)]))),128)),c(Q,{isTestFinished:t.value,onHandleSubmit:b,onHandleRestart:O},null,8,["isTestFinished"])])}}});const he=N(pe,[["__scopeId","data-v-d7ddfc0c"]]),ve={class:"pageExam"},me={key:0},fe={key:0,class:"score"},ye={class:"card-header"},ke={key:1},ge={key:2},xe=F({__name:"pageExam",setup(I){const p=L(),R=p.selectedTopic,g=p.selectedQuestionType,f=p.selectedQuestionCount,y=J[R],u=X();let t=G([]);D(()=>{y===void 0?(p.updateExamStart(!1),u.push("/train-Eng")):x()});const x=()=>{t=Object.keys(y).map(e=>({key:e,value:y[e]})),t=i.getRandomItemsFromArray(t,f),p.updateDataIsReady(!0)},b=W(()=>p.isExamStart),S=W(()=>p.dataIsReady),w=$([]),O=e=>{p.updateExamStart(!1);for(let s in e)e.hasOwnProperty(s)&&w.value.push({title:s,count:e[s]});i.scrollToTop(),Y({title:"Success",message:"Exam is over",type:"success",showClose:!1})},l=()=>{w.value=[]};return(e,s)=>{const o=m("el-text"),h=m("el-card"),k=m("el-col"),d=m("el-row");return a(),_("div",ve,[v(S)?(a(),_("div",me,[v(b)?V("",!0):(a(),_("div",fe,[c(d,{gutter:4},{default:r(()=>[(a(!0),_(U,null,j(w.value,(C,n)=>(a(),H(k,{key:n,md:4,lg:4,xl:4,xs:8,sm:8},{default:r(()=>[c(h,{class:"box-card"},{header:r(()=>[E("div",ye,[c(o,{tag:"b"},{default:r(()=>[T(A(C.title),1)]),_:2},1024)])]),default:r(()=>[c(o,{size:"large"},{default:r(()=>[T(A(C.count),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])),v(g)===v(M).QUESTION_TYPE.CHOICE_QUESTION?(a(),_("div",ke,[c(he,{topicArr:v(t),onRestart:l,onEmitResult:O},null,8,["topicArr"])])):(a(),_("div",ge,[c(re,{topicArr:v(t),onRestart:l,onEmitResult:O},null,8,["topicArr"])]))])):V("",!0)])}}});const be=N(xe,[["__scopeId","data-v-22f1619f"]]);export{be as default};
